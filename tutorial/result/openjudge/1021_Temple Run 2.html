<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - 1021:Temple Run 2</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="首页" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">登入</a></li>
      <li><a class="link" href="/register/">注册</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="题目ID, 标题, 描述" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://simple.openjudge.cn/"><img class="group-logo" src="http://media.openjudge.cn/groups/151/logo_small.jpg" alt="很弱的问题" width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://simple.openjudge.cn/" title="首页" rel="home">很弱的问题</a></h2>
		 <span>/</span>
		 <h2>ProblemSet of Programming Practice</h2>
			</div>
    <ul id="mainNav">
        <li  class="current"><a href="/pspp/" class="first">题目</a></li>
            <li ><a href="/pspp/ranking/">排名</a></li>
                    <li ><a href="/pspp/status/">状态</a></li>
	    			        <li class="last"><a href="/pspp/clarify/" class="last">提问</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"很水",2:"简单",3:"普通",4:"较难",5:"变态"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = '隐藏标签';
										}, function(){
											$('#problem-tags').hide();
											this.value = '显示标签';
										}
									);
			});
</script>

<div id="pageTitle"><h2>1021:Temple Run 2</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/pspp/1021/">查看</a></li>
		<li ><a href="/pspp/1021/submit/">提交</a></li>
				<li ><a href="/pspp/1021/statistics/">统计</a></li>
			
		<li ><a href="/pspp/clarify/1021/">提问</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>总时间限制: </dt>
		<dd>3000ms</dd>
			<dt>内存限制: </dt>
		<dd>65536kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>描述</dt>
		<dd><p style="margin-top: 0px; margin-bottom: 0px;">Temple run is a famous game, and its successor is even more famous! Again you escape from the temple, and run along the road. The road is dangerous, there are obstacles and gaps (challenges) which you might probably not survive. This time, you have powerups. A powerup can make you become invincible for a short period of time, i.e. pass one challenge safely. However, you need to collect enough coins, say <strong>p </strong>coins, to fill the powerup slot fully before you can activate a powerup. Once your powerup is ready, you do not necessarily need to activate it instantly. You may save it for more precious chances later. When the slot is full or the powerup is already on, the collected coins will stay full and not charge any more. One powerup can only help you with one challenge (It has a short time limit also).</p><p style="margin-top: 0px; margin-bottom: 0px;"><br /></p><p style="margin-top: 0px; margin-bottom: 0px;">You know how many coins are ahead of you along the road and their distribution. You start at distance 0 on the road. Challenges are located at different distances on the road. Suppose the road ends at distance <strong>e </strong>and you do not miss any coins. If you use your powerups wisely, what is the maximum expected distance you can run?</p><p><br /></p></dd>
				
				
				<dt>输入</dt>
		<dd>The first line has an integer T, the number of test cases.<br />Each test case has three integers on the first line: e, the total length of the road; n, the number of challenges along the road; p, the coins needed to fill the powerup slot. 1<=e<=10^6, 1<=n,p<=1000.<br />The next line has 3n numbers. The (3i-2)-th number is an integer less than 10^6 representing the coins you can collect between challenge i-1 and i (let challenge 0 denote your starting point). The (3i-1)-th number is an integer representing the location of challenge i. The (3i-2)-th number is a 2-decimal number representing your probability to pass challenge $i$ on you own.</dd>
		<dt>输出</dt>
		<dd>For each case, output the maximum expected distance you can run, to the 3rd decimal point.</dd>
		<dt>样例输入</dt>
		<dd><pre>2
400 3 100
50 100 0.50 50 200 0.50 50 300 0.50
1000 4 100
100 100 0.25 50 200 0.75 50 400 0.50 50 500 0.05</pre></dd>
		<dt>样例输出</dt>
		<dd><pre>225.000
575.000</pre></dd>
						</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/pspp/1021/">查看</a></li>
		<li ><a href="/pspp/1021/submit/">提交</a></li>
				<li ><a href="/pspp/1021/statistics/">统计</a></li>
			
		<li ><a href="/pspp/clarify/1021/">提问</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>全局题号</dt>
		<dd>5748</dd>
					<dt>添加于</dt>
			<dd>2013-03-31</dd>
				<dt>提交次数</dt>
		<dd>6</dd>
		<dt>尝试人数</dt>
	    <dd>2</dd>
	    <dt>通过人数</dt>
	    <dd>2</dd>
	</dl>
		
		
					
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ 沪ICP备12005590号-3</li>
		</ul>
		<ul class="debug-info">
									<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">帮助</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">关于</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
