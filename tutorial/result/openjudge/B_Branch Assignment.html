<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - B:Branch Assignment</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="首页" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">登入</a></li>
      <li><a class="link" href="/register/">注册</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="题目ID, 标题, 描述" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://pkuteam.openjudge.cn/"><img class="group-logo" src="http://media.openjudge.cn/groups/7/logo_small.jpg" alt="北京大学ACM-ICPC竞赛队" width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://pkuteam.openjudge.cn/" title="首页" rel="home">北京大学ACM-ICPC竞赛队</a></h2>
		 <span>/</span>
		 <h2>2017萧山第6场</h2>
		<span style="font-size:14px;">已经结束</span>	</div>
    <ul id="mainNav">
        <li  class="current"><a href="/2017xiaoshan06/" class="first">题目</a></li>
            <li ><a href="/2017xiaoshan06/ranking/">排名</a></li>
                    <li ><a href="/2017xiaoshan06/status/">状态</a></li>
	     
        <li ><a href="/2017xiaoshan06/statistics/">统计</a></li>
				        <li class="last"><a href="/2017xiaoshan06/clarify/" class="last">提问</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"很水",2:"简单",3:"普通",4:"较难",5:"变态"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = '隐藏标签';
										}, function(){
											$('#problem-tags').hide();
											this.value = '显示标签';
										}
									);
			});
</script>

<div id="pageTitle"><h2>B:Branch Assignment</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/2017xiaoshan06/B/">查看</a></li>
		<li ><a href="/2017xiaoshan06/B/submit/">提交</a></li>
				<li ><a href="/2017xiaoshan06/B/statistics/">统计</a></li>
			
		<li ><a href="/2017xiaoshan06/clarify/B/">提问</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>总时间限制: </dt>
		<dd>120000ms</dd>
			<dt>单个测试点时间限制: </dt>
		<dd>3000ms</dd>
			<dt>内存限制: </dt>
		<dd>1048576kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>描述</dt>
		<dd><p>The Innovative Consumer Products Company (ICPC) is planning to start a top-secret project. This project consists of s subprojects. There will be b ≥ s branches of ICPC involved in this project and ICPC wants to assign each branch to one of the subprojects. In other words, the branches will form s disjoint groups, with each group in charge of a subproject.</p><p>At the end of each month, each branch will send a message to every other branch in its group (a different message to each branch). ICPC has a particular protocol for its communications. Each branch i has a secret key k<sub>i</sub> known only to the branch and the ICPC headquarters. Assume branch i wants to send a message to branch j. Branch i encrypts its message with its key k<sub>i</sub>. A trusted courier picks up this message from this branch and delivers it to the ICPC headquarters. Headquarters decrypts the message with key k<sub>i</sub> and re-encrypts it with key k<sub>j</sub>. The courier then delivers this newly encrypted message to branch j, which decrypts it with its own key k<sub>j</sub>. For security reasons, a courier can carry only one message at a time.</p><p>Given a road network and the locations of branches and the headquarters in this network, your task is to determine the minimum total distance that the couriers will need to travel to deliver all the end-of-month messages, over all possible assignments of branches to subprojects.<br /></p></dd>
				
				
				<dt>输入</dt>
		<dd>The first line of input contains four integers n, b, s, and r, where n (2 ≤ n ≤ 5 000) is the number of intersections, b (1 ≤ b ≤ n - 1) is the number of branches, s (1 ≤ s ≤ b) is the number of subprojects, and r (1 ≤ r ≤ 50 000) is the number of roads. The intersections are numbered from 1 through n. The branches are at intersections 1 through b, and the headquarters is at intersection b + 1. Each of the next r lines contains three integers u, v, and l, indicating a one-way road from intersection u to a different intersection v (1 ≤ u, v ≤ n) of length l (0 ≤ l ≤ 10 000). No ordered pair (u, v) appears more than once, and from any intersection it is possible to reach every other intersection.</dd>
		<dt>输出</dt>
		<dd>Display the minimum total distance that the couriers will need to travel.</dd>
		<dt>样例输入</dt>
		<dd><pre>5 4 2 10
5 2 1
2 5 1
3 5 5
4 5 0
1 5 1
2 3 1
3 2 5
2 4 5
2 1 1
3 4 2</pre></dd>
		<dt>样例输出</dt>
		<dd><pre>13</pre></dd>

<dt>Sample Input #2</dt>
<dd><pre>5 4 2 10
5 2 1
2 5 1
3 5 5
4 5 10
1 5 1
2 3 1
3 2 5
2 4 5
2 1 1
3 4 2</pre></dd>

<dt>Sample Output #2</dt>
<dd><pre>24</pre></dd>
						<dt>来源</dt>
		<dd>World Finals 2016</dd>
				</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/2017xiaoshan06/B/">查看</a></li>
		<li ><a href="/2017xiaoshan06/B/submit/">提交</a></li>
				<li ><a href="/2017xiaoshan06/B/statistics/">统计</a></li>
			
		<li ><a href="/2017xiaoshan06/clarify/B/">提问</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>全局题号</dt>
		<dd>15866</dd>
				<dt>提交次数</dt>
		<dd>18</dd>
		<dt>尝试人数</dt>
	    <dd>8</dd>
	    <dt>通过人数</dt>
	    <dd>8</dd>
	</dl>
		
		
					
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ 沪ICP备12005590号-3</li>
		</ul>
		<ul class="debug-info">
									<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">帮助</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">关于</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
