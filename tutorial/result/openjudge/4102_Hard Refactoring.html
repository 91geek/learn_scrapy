<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - 4102:Hard Refactoring</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="首页" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">登入</a></li>
      <li><a class="link" href="/register/">注册</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="题目ID, 标题, 描述" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://pkuteam.openjudge.cn/"><img class="group-logo" src="http://media.openjudge.cn/groups/7/logo_small.jpg" alt="北京大学ACM-ICPC竞赛队" width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://pkuteam.openjudge.cn/" title="首页" rel="home">北京大学ACM-ICPC竞赛队</a></h2>
		 <span>/</span>
		 <h2>ICPC竞技编程练习</h2>
			</div>
    <ul id="mainNav">
        <li  class="current"><a href="/icpc/" class="first">题目</a></li>
            <li ><a href="/icpc/ranking/">排名</a></li>
                    <li ><a href="/icpc/status/">状态</a></li>
	    			        <li class="last"><a href="/icpc/clarify/" class="last">提问</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"很水",2:"简单",3:"普通",4:"较难",5:"变态"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = '隐藏标签';
										}, function(){
											$('#problem-tags').hide();
											this.value = '显示标签';
										}
									);
			});
</script>

<div id="pageTitle"><h2>4102:Hard Refactoring</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/icpc/4102/">查看</a></li>
		<li ><a href="/icpc/4102/submit/">提交</a></li>
				<li ><a href="/icpc/4102/statistics/">统计</a></li>
			
		<li ><a href="/icpc/clarify/4102/">提问</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>总时间限制: </dt>
		<dd>1000ms</dd>
			<dt>内存限制: </dt>
		<dd>256000kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>描述</dt>
		<dd><p>Helen had come upon a piece of code that uses a lot of “magical constants”. She found a logical expression that checks if an integer x belongs to a certain set of ranges, like the one shown below:</p><pre>x &gt;= 5 &amp;&amp; x &lt;= 10 &#124;&#124;
x &gt;= 7 &amp;&amp; x &lt;= 20 &#124;&#124;
x &lt;= 2 &#124;&#124;
x &gt;= 21 &amp;&amp; x &lt;= 25 &#124;&#124;
x &gt;= 8 &amp;&amp; x &lt;= 10 &#124;&#124;
x &gt;= 100</pre><p>Helen does not like “magical constants”, so she decided to <em>refactor</em> this expression and all similar ones in such a way, that the refactored expression still has the same Boolean result for all integers x, but it uses as few integer constants in its text as possible.</p><p>Integers in this problem, including integer x, come from the range of all signed 16 bit integers starting from −2<sup>15</sup> (−32768) to 2<sup>15</sup>−1 (32767) inclusive.</p></dd>
				
				
				<dt>输入</dt>
		<dd>The input file contains at most 1000 lines. Each line consists of either one comparison or two comparisons separated by <em>logical and</em> operator “&amp;&amp;”. Each comparison starts with “x”, followed by <em>greater-or-equals</em> operator “&gt;=” or <em>less-or-equals</em> operator “&lt;=”, followed by an integer constant. When two comparisons are in the same line, the first one is always <em>greater-or-equals</em>, followed by <em>less-or-equals</em>.<br /><br />All lines, but the last one, are terminated by <em>logical or</em> operator “&#124;&#124;”. All tokens in a line are separated by a single space and there are no trailing or leading spaces.</dd>
		<dt>输出</dt>
		<dd>Write the refactored expression to the output ﬁle in the same format as in the input. You can arrange lines in any order, as long as the resulting expression has the right format, produces the same Boolean result on all integers x, and contains the minimal possible number of integer constants in its text. Numbers must be formatted without leading zeros and there must be precisely one space between tokens on a line.<br /><br />Write a single line with the word “true” if the expression is true on all integers. Write a single line with the word “false” if the expression is false on all integers.</dd>
		<dt>样例输入</dt>
		<dd><pre>x &gt;= 5 &amp;&amp; x &lt;= 10 &#124;&#124;
x &gt;= 7 &amp;&amp; x &lt;= 20 &#124;&#124;
x &lt;= 2 &#124;&#124;
x &gt;= 21 &amp;&amp; x &lt;= 25 &#124;&#124;
x &gt;= 8 &amp;&amp; x &lt;= 10 &#124;&#124;
x &gt;= 100</pre></dd>
		<dt>样例输出</dt>
		<dd><pre>x &lt;= 2 &#124;&#124;
x &gt;= 5 &amp;&amp; x &lt;= 25 &#124;&#124;
x &gt;= 100</pre></dd>

<dt>Sample Input #2</dt>
<dd><pre>x &gt;= 10 &amp;&amp; x &lt;= 0</pre></dd>

<dt>Sample Output #2</dt>
<dd><pre>false</pre></dd>

<dt>Sample Input #3</dt>
<dd><pre>x &lt;= 10 &#124;&#124;
x &gt;= 0</pre></dd>

<dt>Sample Output #3</dt>
<dd><pre>true</pre></dd>

<dt>Sample Input #4</dt>
<dd><pre>x &gt;= -32768</pre></dd>

<dt>Sample Output #4</dt>
<dd><pre>true</pre></dd>
						<dt>来源</dt>
		<dd>NEERC 2016</dd>
				</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/icpc/4102/">查看</a></li>
		<li ><a href="/icpc/4102/submit/">提交</a></li>
				<li ><a href="/icpc/4102/statistics/">统计</a></li>
			
		<li ><a href="/icpc/clarify/4102/">提问</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>全局题号</dt>
		<dd>15759</dd>
					<dt>添加于</dt>
			<dd>2017-08-07</dd>
				<dt>提交次数</dt>
		<dd>47</dd>
		<dt>尝试人数</dt>
	    <dd>7</dd>
	    <dt>通过人数</dt>
	    <dd>5</dd>
	</dl>
		
		
					
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ 沪ICP备12005590号-3</li>
		</ul>
		<ul class="debug-info">
									<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">帮助</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">关于</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
