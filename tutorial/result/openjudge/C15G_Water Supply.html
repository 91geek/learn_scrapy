<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - C15G:Water Supply</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="首页" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">登入</a></li>
      <li><a class="link" href="/register/">注册</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="题目ID, 标题, 描述" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://poj.openjudge.cn/"><img class="group-logo" src="http://media.openjudge.cn/groups/2/logo_small.jpg" alt="PKU Online Judge" width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://poj.openjudge.cn/" title="首页" rel="home">PKU Online Judge</a></h2>
		 <span>/</span>
		 <h2>练习</h2>
			</div>
    <ul id="mainNav">
        <li  class="current"><a href="/practice/" class="first">题目</a></li>
            <li ><a href="/practice/ranking/">排名</a></li>
                    <li ><a href="/practice/status/">状态</a></li>
	    			        <li class="last"><a href="/practice/clarify/" class="last">提问</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"很水",2:"简单",3:"普通",4:"较难",5:"变态"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = '隐藏标签';
										}, function(){
											$('#problem-tags').hide();
											this.value = '显示标签';
										}
									);
			});
</script>

<div id="pageTitle"><h2>C15G:Water Supply</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/practice/C15G/">查看</a></li>
		<li ><a href="/practice/C15G/submit/">提交</a></li>
				<li ><a href="/practice/C15G/statistics/">统计</a></li>
			
		<li ><a href="/practice/clarify/C15G/">提问</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>总时间限制: </dt>
		<dd>4000ms</dd>
			<dt>内存限制: </dt>
		<dd>65536kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>描述</dt>
		<dd><p>The water supply system of City L has been in a state of disrepair for a long time, as a result, breakdowns of the system happen frequently in recent years. To solve this problem, the local water utility company is planning the construction of a new water supply system.</p><p>City L is composed of N residential areas, numbered from 1 to N. The water utility company plans to build exactly one new water tower in each residential area. For safety reasons, Hi, the height of the water tower in area i, should not exceed Li. Obviously, heights of water towers cannot be negative.The cost of the water tower in area i is (Ci * Hi). In some prosperous residential areas, building higher water tower will earn more money, so Ci may be negative.</p><p>There are M directed pipes in City L, numbered from 1 to M. Pipe i transfers water from area Si to area Ei. In order to make pipe i work, the water tower in area Si should be Di higher than the one in Ei. Otherwise the water utility company needs to install pumps for the pipe. The cost of installing pumps for pipe i is Pi * (Di - (H<sub>Si</sub>– H<sub>Ei</sub>)). Pi and Di are always positive. Pipes always transfer water between two different areas. There are no two pipes that transfer water from the same start area to the same end area.</p><p>The water utility company wants to make the total cost (including costs of water towers and pumps) minimum, by designing optimal heights for these water towers. Your task is to calculate the minimum total cost. Notice the minimum total cost may be negative.
</p></dd>
				
				
				<dt>输入</dt>
		<dd>The first line contains an integer T (1 ≤ T ≤ 10) -- the number of test cases.<br /><br />For each test case:<br />The first line contains two integers N and M. 2 ≤ N ≤ 300. 1 ≤ M ≤ 2000.<br />The second line contains N integers, indicate C1, C2, ..., Cn. -500 ≤ Ci ≤ 500. <br />The third line contains N integers, indicate L1, L2, ..., Ln. 0 ≤ Li ≤ 500.<br />Then follows M lines, the i-th line contains four integers: Si, Ei, Pi and Di, indicate the attributes of pipe i. 1 ≤ Si ≤ N. 1 ≤ Ei ≤ N. 0 < Pi ≤ 500. 0 < Di ≤ 500.</dd>
		<dt>输出</dt>
		<dd>For each test case, you should output the minimum total cost of the construction of the new water supply system.</dd>
		<dt>样例输入</dt>
		<dd><pre>2
2 2
2 -2
5 5
1 2 1 1
2 1 1 1
4 6
0 -3 0 -1
3 5 0 1
1 3 2 2
4 3 3 1
2 4 5 2
3 4 2 3
2 3 4 4
3 2 5 1
</pre></dd>
		<dt>样例输出</dt>
		<dd><pre>-4
20
</pre></dd>
						</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/practice/C15G/">查看</a></li>
		<li ><a href="/practice/C15G/submit/">提交</a></li>
				<li ><a href="/practice/C15G/statistics/">统计</a></li>
			
		<li ><a href="/practice/clarify/C15G/">提问</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>全局题号</dt>
		<dd>8250</dd>
					<dt>添加于</dt>
			<dd>2015-05-10</dd>
				<dt>提交次数</dt>
		<dd>7</dd>
		<dt>尝试人数</dt>
	    <dd>5</dd>
	    <dt>通过人数</dt>
	    <dd>0</dd>
	</dl>
		
		
					
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ 沪ICP备12005590号-3</li>
		</ul>
		<ul class="debug-info">
									<li><a href="http://poj.openjudge.cn//history.html" rel="nofollow">历届出题人名单</a></li>
						<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">帮助</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">关于</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
