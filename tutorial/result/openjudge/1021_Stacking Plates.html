<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - 1021:Stacking Plates</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<link href="http://static.openjudge.cn/styles/jquery.ui.theme.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/jquery.ui.dialog.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/jquery.ui.resizable.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/jquery.ui.core.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-ui-1.8.11.custom.min.js?1467854438.js"></script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="é¦–é¡µ" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">ç™»å…¥</a></li>
      <li><a class="link" href="/register/">æ³¨å†Œ</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="é¢˜ç›®ID, æ ‡é¢˜, æè¿°" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://qwsfsx.openjudge.cn/"><img class="group-logo" src="http://media.openjudge.cn/groups/130/logo_small.jpg" alt="è¶£å‘³ç®—æ³•å®ä¹ " width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://qwsfsx.openjudge.cn/" title="é¦–é¡µ" rel="home">è¶£å‘³ç®—æ³•å®ä¹ </a></h2>
		 <span>/</span>
		 <h2>æœŸæœ«æµ‹è¯•</h2>
		<span style="font-size:14px;">å·²ç»ç»“æŸ</span>	</div>
    <ul id="mainNav">
        <li  class="current"><a href="/final2012/" class="first">é¢˜ç›®</a></li>
            <li ><a href="/final2012/ranking/">æ’å</a></li>
                    <li ><a href="/final2012/status/">çŠ¶æ€</a></li>
	     
        <li ><a href="/final2012/statistics/">ç»Ÿè®¡</a></li>
				        <li class="last"><a href="/final2012/clarify/" class="last">æé—®</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"å¾ˆæ°´",2:"ç®€å•",3:"æ™®é€š",4:"è¾ƒéš¾",5:"å˜æ€"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = 'éšè—æ ‡ç­¾';
										}, function(){
											$('#problem-tags').hide();
											this.value = 'æ˜¾ç¤ºæ ‡ç­¾';
										}
									);
			});
</script>

<div id="pageTitle"><h2>1021:Stacking Plates</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/final2012/1021/">æŸ¥çœ‹</a></li>
		<li ><a href="/final2012/1021/submit/">æäº¤</a></li>
				<li ><a href="/final2012/1021/statistics/">ç»Ÿè®¡</a></li>
			
		<li ><a href="/final2012/clarify/1021/">æé—®</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>æ€»æ—¶é—´é™åˆ¶: </dt>
		<dd>3000ms</dd>
			<dt>å†…å­˜é™åˆ¶: </dt>
		<dd>65536kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>æè¿°</dt>
		<dd><p>The Plate Shipping Company is an Internet retailer that, as their name suggests, exclusively sells plates. They pride themselves in offering the widest selection of dinner plates in the universe from a large number of manufacturers.</p><p>In a recent cost analysis the company has discovered that they spend a large amount of money on packing the plates for shipment. Part of the reason is that plates have to be stacked before being put into shipping containers. And apparently, this is taking more time than expected. Maybe you can help.</p><p>A shipment of plates consists of plates from several manufacturers. The plates from each manufacturer come stacked, that is, each arranged in a single stack with plates ordered by size (the smallest at the top, the largest at the bottom). We will call such a stack properly ordered. To ship all these plates, you must combine them into a single stack, again properly ordered. To join the manufacturers&#39; stacks into a single stack, two kinds of operations are allowed: </p><p>Split: a single stack can be split into two stacks by lifting any top portion of the stack and putting it aside to form a new stack. <br />Join: two stacks can be joined by putting one on top of the other. This is allowed only if the bottom plate of the top stack is no larger than the top plate of the bottom stack, that is, the joined stack has to be properly ordered.</p><p>Note that a portion of any stack may never be put directly on top of another stack. It must first be split and then the split portion must be joined with the other stack. Given a collection of stacks, you have to find the minimum number of operations that transforms them into a single stack. The following example corresponds to the sample input, and shows how two stacks can be transformed to a single stack in five operations:</p><p><img src="http://media.openjudge.cn/images/upload/1337973949.png" width="1236" height="521" /><br /></p><p><br /></p></dd>
				
				
				<dt>è¾“å…¥</dt>
		<dd>Each test case starts with a line containing a single integer n (1 â‰¤ n â‰¤ 50), the number of stacks that have to be combined for a shipment. This is followed by n lines, each describing a stack. These lines start with an integer h (1 â‰¤ h â‰¤ 50), the height of the stack. This number is followed by h positive integers that give the diameters of the plates, from top to bottom. All diameters are at most 10 000. These numbers will be in non-decreasing order.</dd>
		<dt>è¾“å‡º</dt>
		<dd>For each test case, display the case number and the minimum number of operations (splits and joins) that have to be performed to combine the given stacks into a single stack.</dd>
		<dt>æ ·ä¾‹è¾“å…¥</dt>
		<dd><pre>2
3 1 2 4
2 3 5
3
4 1 1 1 1
4 1 1 1 1
4 1 1 1 1</pre></dd>
		<dt>æ ·ä¾‹è¾“å‡º</dt>
		<dd><pre>Case 1: 5
Case 2: 2</pre></dd>
						</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/final2012/1021/">æŸ¥çœ‹</a></li>
		<li ><a href="/final2012/1021/submit/">æäº¤</a></li>
				<li ><a href="/final2012/1021/statistics/">ç»Ÿè®¡</a></li>
			
		<li ><a href="/final2012/clarify/1021/">æé—®</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>å…¨å±€é¢˜å·</dt>
		<dd>4882</dd>
				<dt>æäº¤æ¬¡æ•°</dt>
		<dd>0</dd>
		<dt>å°è¯•äººæ•°</dt>
	    <dd>0</dd>
	    <dt>é€šè¿‡äººæ•°</dt>
	    <dd>0</dd>
	</dl>
		
		
					
	<script type="text/javascript">

$(function(){
    var e={},c={};//eä¸ºé€‰ä¸­çš„æ ‡ç­¾
    var b=function(h){
        if(e[h]){
            c[h]=true;
            $.each(e[h],function(k,j){
                $(j).removeClass("gract").addClass("rdact")
                })
        }
    };//æ‰“æ ‡ç­¾css
    var d=function(h){
        if(e[h]){
            delete c[h];
            $.each(e[h],function(k,j){
                $(j).removeClass("rdact").addClass("gract")
                })
        }
    };//å–æ¶ˆæ‰“ä¸Šçš„æ ‡ç­¾css

    var g=function(){
        var h=$.trim($("#tags_title").attr("value").toLowerCase()).split(" "),i={};
        $.each(h,function(k,j){
            if(j!=""){
                b(j);
                i[j]=true
            }
        });
        for(t in c){
            if(!i[t]){
                d(t);
            }
        }
    };

    $('.tagbtn').each(function(j){
        var h=$(this).text().toLowerCase();
        if(e[h]){
            e[h].push(this);
        }
        else{
            e[h]=[this];
        }
    }).click(function(){
        var h=$(this).text();
        var k=$.trim($("#tags_title").attr("value")).split(" "),o=false,j=h.toLowerCase(),l;
        k=$.grep(k,function(value){
            if(value.toLowerCase()==j){
                d(j);
                o=true;
                return false;
            }
            else{
                return true;
            }
        });//éå†kæ£€æŸ¥kä¸­æ˜¯å¦å­˜åœ¨æ‰€ç‚¹å‡»çš„æ ‡ç­¾å¦‚æœæœ‰åˆ™å»é™¤
        if(!o){
            k.push(h);
            b(j);
        }//å¦‚æœä¸å­˜åœ¨åˆ™æ·»åŠ åˆ°æœ€å
        var n=k.join(" ");//ç”¨ç©ºæ ¼è¿æ¥æ•°ç»„ä¸­çš„æ ‡ç­¾
        $("#tags_title").attr("value",(n.length>1)?$.trim(n)+" ":n);
        $("#tags_title").focus(); //å¦‚æœæ•°é‡å¤šäº1ä¸ªæ ‡ç­¾
    });
    $("#tags_title").keyup(g);

	// a workaround for a flaw in the demo system (http://dev.jqueryui.com/ticket/4375), ignore!
	$( "#dialog:ui-dialog" ).dialog( "destroy" );
	
	$( "#dialog-form" ).dialog({
		autoOpen: false,
		height: 420,
		width: 550,
		modal: true,
		buttons: {
			"ä¿å­˜": function() {
				$('#rating_form').submit();
			},
			"å–æ¶ˆ": function() {
				$( this ).dialog( "close" );
			}
		},
		close: function() {
		}
	});

	$( "#create-rating" )
		.button()
		.click(function() {
			$( "#dialog-form" ).dialog( "open" );
			g();
		});
	
	 var x={1:"å¾ˆæ°´",2:"ç®€å•",3:"æ™®é€š",4:"è¾ƒéš¾",5:"å˜æ€"},
     i=$("#rate"),
     y=$("#stars img"),
     z=function(f){
       var h=0||i.val();
       y.each(function(k){
         var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
         this.src=i;
       });
       if(f)
         $("#rate_description").text(x[f]);
       else
         $("#rate_description").text(h!=0?x[h]:"");
     };
     y.hover(function(){d(this.id.charAt(4));},function(){z();});
     if(i.attr("value")){
       y.click(function(){
         var f=this.id.charAt(4);
         i.val(f);
         z(f);
         //$('#form_diffculity_rating').submit();
         //$( "#dialog-form" ).dialog( "open" );
		//	g();
       });
     }
     z();
});
</script>

<div id="dialog-form" title="è¯„ä»·">
	<form id="rating_form" class="j a_interest_form" method="POST" action="/api/problem/rating" onsubmit="$(this).ajaxSubmit({dataType:'json',success:function(){$('#dialog-form').dialog( 'close' );}});return false;">
       			<input type="hidden" value="2732" name="app_id">
   				<input type="hidden" value="1021" name="problem_number">
   				<input type="hidden" value="4882" name="problem_id">
       		<div class="rating">
	  æ‚¨çš„è¯„ä»·
   		<span style="margin-left: 10px;" id="stars">
			<img alt="å¾ˆæ°´" src="http://static.openjudge.cn/images/nst.gif" id="star1">
			<img alt="ç®€å•" src="http://static.openjudge.cn/images/nst.gif" id="star2">
			<img alt="ä¸€èˆ¬" src="http://static.openjudge.cn/images/nst.gif" id="star3">
			<img alt="è¾ƒéš¾" src="http://static.openjudge.cn/images/nst.gif" id="star4">
			<img alt="å˜æ€" src="http://static.openjudge.cn/images/nst.gif" id="star5">
		</span>
		<span class="pl" id="rate_description"></span>
   		
	    	<input type="hidden" value="" name="diffculity_rate" id="rate">         
		
    </div>
   				<ul class="interest_form " id="advtags">
    
        			<li>æ ‡ç­¾(å¤šä¸ªæ ‡ç­¾ç”¨ç©ºæ ¼åˆ†éš”): </li>
      				<li><input type="text" style="width: 250px;" name="tags" id="tags_title" value=""></li>
       				       				       				<li class="clearfix" id="populartags">
       					<dl>
       						<dt>å¸¸ç”¨æ ‡ç­¾:</dt>
       						<dd>
       						       							<span class="tagbtn gract">é€’å½’</span> &nbsp;
       						       							<span class="tagbtn gract">åŠ¨æ€è§„åˆ’</span> &nbsp;
       						       							<span class="tagbtn gract">è´ªå¿ƒ</span> &nbsp;
       						       							<span class="tagbtn gract">æœç´¢</span> &nbsp;
       						       							<span class="tagbtn gract">æšä¸¾</span> &nbsp;
       						       							<span class="tagbtn gract">æ¨¡æ‹Ÿ</span> &nbsp;
       						       							<span class="tagbtn gract">æ•°å­¦</span> &nbsp;
       						       							<span class="tagbtn gract">å­—ç¬¦ä¸²å¤„ç†</span> &nbsp;
       						       							<span class="tagbtn gract">å‡ ä½•</span> &nbsp;
       						       							<span class="tagbtn gract">é«˜ç²¾åº¦è®¡ç®—</span> &nbsp;
       						       							<span class="tagbtn gract">å›¾è®º</span> &nbsp;
       						       						</dd>
       					</dl>
       				</li>
   				</ul>
	</form>
</div>
	
	<div>
						<h4>å°šæ— è¯„åˆ†</h4>
			</div>
	
		
				
						
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ æ²ªICPå¤‡12005590å·-3</li>
		</ul>
		<ul class="debug-info">
									<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">å¸®åŠ©</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">å…³äº</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
