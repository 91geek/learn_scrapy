<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - k:Instantaneous Transference</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="首页" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">登入</a></li>
      <li><a class="link" href="/register/">注册</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="题目ID, 标题, 描述" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://icpcsummer.openjudge.cn/"><img class="group-logo" src="http://static.openjudge.cn/images/default_logo_small.png" alt="北京大学ACM/ICPC竞赛训练暑期课" width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://icpcsummer.openjudge.cn/" title="首页" rel="home">北京大学ACM/ICPC竞赛训练暑期课</a></h2>
		 <span>/</span>
		 <h2>2015 ACM/ICPC竞赛训练暑期课期末组队考试</h2>
		<span style="font-size:14px;">已经结束</span>	</div>
    <ul id="mainNav">
        <li  class="current"><a href="/icpc2015team/" class="first">题目</a></li>
            <li ><a href="/icpc2015team/ranking/">排名</a></li>
                    <li ><a href="/icpc2015team/status/">状态</a></li>
	     
        <li ><a href="/icpc2015team/statistics/">统计</a></li>
				        <li class="last"><a href="/icpc2015team/clarify/" class="last">提问</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"很水",2:"简单",3:"普通",4:"较难",5:"变态"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = '隐藏标签';
										}, function(){
											$('#problem-tags').hide();
											this.value = '显示标签';
										}
									);
			});
</script>

<div id="pageTitle"><h2>k:Instantaneous Transference</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/icpc2015team/k/">查看</a></li>
		<li ><a href="/icpc2015team/k/submit/">提交</a></li>
				<li ><a href="/icpc2015team/k/statistics/">统计</a></li>
			
		<li ><a href="/icpc2015team/clarify/k/">提问</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>总时间限制: </dt>
		<dd>5000ms</dd>
			<dt>内存限制: </dt>
		<dd>65536kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>描述</dt>
		<dd><div class="ptx" lang="en-US"><div><p>It was long ago when we played the
 game Red Alert. There is a magic function for the game objects which is
 called instantaneous transfer. When an object uses this magic function,
 it will be transferred to the specified point immediately, regardless 
of how far it is.</p><p>Now there is a mining area, and you are driving an ore-miner truck. Your mission is to take the maximum ores in the field.</p><p>The ore area is a rectangle region which is composed by <em>n</em>× <em>m</em>small squares, some of the squares have numbers of ores, while some do not. The ores can&#39;t be regenerated after taken. </p><p>The
 starting position of the ore-miner truck is the northwest corner of the
 field. It must move to the eastern or southern adjacent square, while 
it can not move to the northern or western adjacent square. And some 
squares have magic power that can instantaneously transfer the truck to a
 certain square specified. However, as the captain of the ore-miner 
truck, you can decide whether to use this magic power or to stay still. 
One magic power square will never lose its magic power; you can use the 
magic power whenever you get there.</p></div></div><p><br /></p></dd>
				
				
				<dt>输入</dt>
		<dd>The first line of the input is an integer T which indicates the number of test cases.<br /><br />For each of the test case, the first will be two integers N, M (2 ≤ N, M ≤ 40).<br /><br />The next N lines will describe the map of the mine field. Each of the N lines will be a string that contains M characters. Each character will be an integer X (0 ≤ X ≤ 9) or a '*' or a '#'. The integer X indicates that square has X units of ores, which your truck could get them all. The '*' indicates this square has a magic power which can transfer truck within an instant. The '#' indicates this square is full of rock and the truck can't move on this square. You can assume that the starting position of the truck will never be a '#' square.<br /><br />As the map indicates, there are K '*' on the map. Then there follows K lines after the map. The next K lines describe the specified target coordinates for the squares with '*', in the order from north to south then west to east. (the original point is the northwest corner, the coordinate is formatted as north-south, west-east, all from 0 to N - 1,M - 1).</dd>
		<dt>输出</dt>
		<dd>For each test case output the maximum units of ores you can take. 　</dd>
		<dt>样例输入</dt>
		<dd><pre>1
2 2
11
1*
0 0</pre></dd>
		<dt>样例输出</dt>
		<dd><pre>3</pre></dd>
						<dt>来源</dt>
		<dd>South Central China 2008 hosted by NUDT</dd>
				</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/icpc2015team/k/">查看</a></li>
		<li ><a href="/icpc2015team/k/submit/">提交</a></li>
				<li ><a href="/icpc2015team/k/statistics/">统计</a></li>
			
		<li ><a href="/icpc2015team/clarify/k/">提问</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>全局题号</dt>
		<dd>8541</dd>
				<dt>提交次数</dt>
		<dd>8</dd>
		<dt>尝试人数</dt>
	    <dd>2</dd>
	    <dt>通过人数</dt>
	    <dd>0</dd>
	</dl>
		
		
					
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ 沪ICP备12005590号-3</li>
		</ul>
		<ul class="debug-info">
									<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">帮助</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">关于</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
