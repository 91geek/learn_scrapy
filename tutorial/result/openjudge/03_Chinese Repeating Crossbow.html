<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - 03:Chinese Repeating Crossbow</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="首页" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">登入</a></li>
      <li><a class="link" href="/register/">注册</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="题目ID, 标题, 描述" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://icpcsummer.openjudge.cn/"><img class="group-logo" src="http://static.openjudge.cn/images/default_logo_small.png" alt="北京大学ACM/ICPC竞赛训练暑期课" width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://icpcsummer.openjudge.cn/" title="首页" rel="home">北京大学ACM/ICPC竞赛训练暑期课</a></h2>
		 <span>/</span>
		 <h2>北京大学ACM/ICPC竞赛训练暑期课练习(二)</h2>
		<span style="font-size:14px;">已经结束</span>	</div>
    <ul id="mainNav">
        <li  class="current"><a href="/icpcsumerex2/" class="first">题目</a></li>
            <li ><a href="/icpcsumerex2/ranking/">排名</a></li>
                    <li ><a href="/icpcsumerex2/status/">状态</a></li>
	     
        <li ><a href="/icpcsumerex2/statistics/">统计</a></li>
				        <li class="last"><a href="/icpcsumerex2/clarify/" class="last">提问</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"很水",2:"简单",3:"普通",4:"较难",5:"变态"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = '隐藏标签';
										}, function(){
											$('#problem-tags').hide();
											this.value = '显示标签';
										}
									);
			});
</script>

<div id="pageTitle"><h2>03:Chinese Repeating Crossbow</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/icpcsumerex2/03/">查看</a></li>
		<li ><a href="/icpcsumerex2/03/submit/">提交</a></li>
				<li ><a href="/icpcsumerex2/03/statistics/">统计</a></li>
			
		<li ><a href="/icpcsumerex2/clarify/03/">提问</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>总时间限制: </dt>
		<dd>1000ms</dd>
			<dt>内存限制: </dt>
		<dd>65536kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>描述</dt>
		<dd><p class="MsoNormal" style=""><span style="font-size: 12pt;font-family: &#39;Times New Roman&#39;,&#39;serif&#39;">In Chinese history, Zhuge Liang, prime minister of Shu in three kingdoms period, isregarded as the embodiment of wisdom. When he was dying he passed a book to his apprentice Jiang Wei privately. This book recorded the introduction andspecification of a most powerful weapon at that time, called Chinese repeating crossbow or Zhuge repeating crossbow (Figure 1). This weapon can shoot many arrows in a very short time and makes enemies very hard to defense it.</span></p><p class="MsoNormal" style=""><img src="http://media.openjudge.cn/images/upload/1343356635.png" height="174" width="508" /><br /></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&#39;Times New Roman&#39;,&#39;serif&#39;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Figure 1 Chinese RepeatingCrossbow</span></p><p class="MsoNormal" style=""><span style="font-size:12.0pt;font-family:&#39;Times New Roman&#39;,&#39;serif&#39;">Later on, JiangWei built a repeating crossbow according to the book and he wanted to know exactly about its power. He came to the center of a test field. The test field was ragged with several extreme high straw walls. Jiang Wei wanted to choose adirection, shot through as many straw walls as he can by his new weapon. </span></p><p><span style="font-size:12.0pt;font-family:&#39;Times New Roman&#39;,&#39;serif&#39;">The problem given toyou is quite simple: assuming that the repeating crossbow can shot through anynumbers of straw walls, please help Jiang Wei to choose a certain direction that he can shot through maximum number of walls in one shot. The walls can be considered as line segments, and if an arrow touches the end points of a wall, it&#39;salso called &quot;shoot through&quot;. The straw walls can intersect or overlap with each other, and Jiang Wei may possibly stand extremely close to one of the straw wall.</span></p></dd>
				
				
				<dt>输入</dt>
		<dd>The first line of the input contains an integer T (T <= 10) representing the number of test cases.<br />In each test case, the first line contains an integer N (0 < N <= 1500) representing the number of straw walls on the field. Each of the following N lines contains four integer numbers x1, y1, x2, y2，which describes the end point (x1, y1) and (x2, y2) of a straw wall. The last line of the test case contains two integer (x, y) representing the position of Jiang Wei. All the coordinates are integer numbers and in the range of [-10000, 10000].</dd>
		<dt>输出</dt>
		<dd>For each test case, output a single integer representing the maximum number of straw walls can be shot through in one shot.</dd>
		<dt>样例输入</dt>
		<dd><pre>2
3
-1 -1 1 -1
-1 1 1 1
-1 2 1 2
0 0
3
-1 -1 1 -1
-1 0 0 1
1 0 0 1
0 0</pre></dd>
		<dt>样例输出</dt>
		<dd><pre>2
2</pre></dd>
						</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/icpcsumerex2/03/">查看</a></li>
		<li ><a href="/icpcsumerex2/03/submit/">提交</a></li>
				<li ><a href="/icpcsumerex2/03/statistics/">统计</a></li>
			
		<li ><a href="/icpcsumerex2/clarify/03/">提问</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>全局题号</dt>
		<dd>5137</dd>
				<dt>提交次数</dt>
		<dd>6</dd>
		<dt>尝试人数</dt>
	    <dd>6</dd>
	    <dt>通过人数</dt>
	    <dd>5</dd>
	</dl>
		
		
					
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ 沪ICP备12005590号-3</li>
		</ul>
		<ul class="debug-info">
									<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">帮助</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">关于</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
