<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - 4025:Stack Machine Executor</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="首页" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">登入</a></li>
      <li><a class="link" href="/register/">注册</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="题目ID, 标题, 描述" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://pkuteam.openjudge.cn/"><img class="group-logo" src="http://media.openjudge.cn/groups/7/logo_small.jpg" alt="北京大学ACM-ICPC竞赛队" width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://pkuteam.openjudge.cn/" title="首页" rel="home">北京大学ACM-ICPC竞赛队</a></h2>
		 <span>/</span>
		 <h2>ICPC竞技编程练习</h2>
			</div>
    <ul id="mainNav">
        <li  class="current"><a href="/icpc/" class="first">题目</a></li>
            <li ><a href="/icpc/ranking/">排名</a></li>
                    <li ><a href="/icpc/status/">状态</a></li>
	    			        <li class="last"><a href="/icpc/clarify/" class="last">提问</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"很水",2:"简单",3:"普通",4:"较难",5:"变态"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = '隐藏标签';
										}, function(){
											$('#problem-tags').hide();
											this.value = '显示标签';
										}
									);
			});
</script>

<div id="pageTitle"><h2>4025:Stack Machine Executor</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/icpc/4025/">查看</a></li>
		<li ><a href="/icpc/4025/submit/">提交</a></li>
				<li ><a href="/icpc/4025/statistics/">统计</a></li>
			
		<li ><a href="/icpc/clarify/4025/">提问</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>总时间限制: </dt>
		<dd>3000ms</dd>
			<dt>内存限制: </dt>
		<dd>81920kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>描述</dt>
		<dd><p style="font-family: Times; font-size: medium; white-space: normal; ">Many ciphers can be computed much faster using various machines and automata. In this problem, we will focus on one particular type of machines called <span class="textit">stack machine</span>. Its name comes from the fact that the machine operates with the well-known data structure - <span class="textit">stack</span>. The later-stored values are on the top, older values at the bottom. Machine instructions typically manipulate the top of the stack only.</p><p style="font-family: Times; font-size: medium; white-space: normal; ">Our stack machine is relatively simple: It works with integer numbers only, it has no storage beside the stack (no registers etc.) and no special input or output devices. The set of instructions is as follows:</p><p style="font-family: Times; font-size: medium; white-space: normal; "><span class="textbf">(*) NUM</span> <span class="MATH"><em>X</em></span>, where <span class="MATH"><em>X</em></span> is a non-negative integer number, <span class="MATH">0 ≤ <em>X </em>≤ 10<sup>9</sup></span>. The NUM instruction stores the number <span class="MATH"><em>X</em></span> on top of the stack. It is the only parametrized instruction.</p><p><span class="textbf">(*) POP</span>: removes the top number from the stack.</p><p><span class="textbf">(*) INV</span>: changes the sign of the top-most number. (42 <span class="MATH">→</span> -42)</p><p><span class="textbf">(*) DUP</span>: duplicates the top-most number on the stack.</p><p><span class="textbf">(*) SWP</span>: swaps (exchanges) the position of two top-most numbers.</p><p><span class="textbf">(*) ADD</span>: adds two numbers on the top of the stack.</p><p><span class="textbf">(*) SUB</span>: subtracts the top-most number from the ``second one&quot; (the one below).</p><p><span class="textbf">(*) MUL</span>: multiplies two numbers on the top of the stack.</p><p><span class="textbf">(*) DIV</span>: integer divison of two numbers on the top. The top-most number becomes divisor, the one below dividend. The quotient will be stored as the result.</p><p><span class="textbf">(*) MOD</span>: modulo operation. The operands are the same as for the division but the remainder is stored as the result.</p><p><img src="http://media.openjudge.cn/images/upload/1350622454.png" height="106" width="636" /><br /></p><p style="font-family: Times; font-size: medium; white-space: normal; "><span style="font-family: Times">All binary operations consider the top-most number to be the ``right&quot; operand, the second number the &quot;left&quot; one. All of them remove both operands from the stack and place the result on top in place of the original numbers.</span><br /></p><p style="font-family: Times; font-size: medium; white-space: normal; "><span style="font-family: Times">If there are not enough numbers on the stack for an instruction (one or two), the execution of such an instruction will result into a program failure. A </span><span class="textit">failure</span><span style="font-family: Times"> also occurs if a divisor becomes zero (for DIV or MOD) or if the result of any operation should be more than </span><span class="MATH">10<sup>9</sup></span><span style="font-family: Times"> in absolute value. This means that the machine only operates with numbers between -1 000 000 000 and 1 000 000 000, inclusive.</span><br /></p><p style="font-family: Times; font-size: medium; white-space: normal; "><span style="font-family: Times">To avoid ambiguities while working with negative divisors and remainders: If some operand of a division operation is negative, the absolute value of the result should always be computed with absolute values of operands, and the sign is determined as follows: The quotient is negative if (and only if) exactly one of the operand</span><span style="font-family: Times">s is negative. The remainder has the same sign as the dividend. Thus, 13 div -4 = -3, -13 mod 4 = -1, -13 mod -4 = -1, etc.</span><br /></p><p style="font-family: Times; font-size: medium; white-space: normal; "><span style="font-family: Times">If a failure occurs for any reason, the machine stops the execution of the current program and no other instructions are evaluated in that program run.</span><br /></p></dd>
				
				
				<dt>输入</dt>
		<dd>The input contains description of several machines. Each machine is described by two parts: the program and the input section.<br /><br />The program is given by a series of instructions, one per line. Every instruction is given by three uppercase letters and there must not be any other characters. The only exception is the NUM instruction, which has exactly one space after the three letters followed by a non-negative integer number between 0 and 10^9 . The only allowed instructions are those defined above. Each program is terminated by a line containing the word "END" (and nothing else).<br /><br />The input section starts with an integer N (0≤N≤10000), the number of program executions. The next N lines contain one number each, specifying an input value Vi, 0≤Vi≤10^9. The program should be executed once for each of these values independently, every execution starting with the stack containing one number - the input value Vi.<br /><br />There is one empty line at the and of each machine description. The last machine is followed by a line containing the word "QUIT". No program will contain more than 100 000 instructions and no program requires more than 1 000 numbers on the stack in any moment during its execution.</dd>
		<dt>输出</dt>
		<dd>For each input value, print one line containing the output value for the corresponding execution, i.e., the one number that will be on the stack after the program executes with the initial stack containing only the input number.<br /><br />If there is a program failure during the execution or if the stack size is incorrect at the end of the run (either empty or there are more numbers than one), print the word "ERROR" instead.<br /><br />Print one empty line after each machine, including the last one.</dd>
		<dt>样例输入</dt>
		<dd><pre>DUP
MUL
NUM 2
ADD
END
3
1
10
50

NUM 1
NUM 1
ADD
END
2
42
43

NUM 600000000
ADD
END
3
0
600000000
1

QUIT</pre></dd>
		<dt>样例输出</dt>
		<dd><pre>3
102
2502

ERROR
ERROR

600000000
ERROR
600000001</pre></dd>
				<dt>提示</dt>
		<dd>2011 Central Europe Regional Contest (CERC 2011)</dd>
						</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/icpc/4025/">查看</a></li>
		<li ><a href="/icpc/4025/submit/">提交</a></li>
				<li ><a href="/icpc/4025/statistics/">统计</a></li>
			
		<li ><a href="/icpc/clarify/4025/">提问</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>全局题号</dt>
		<dd>5361</dd>
					<dt>添加于</dt>
			<dd>2017-07-25</dd>
				<dt>提交次数</dt>
		<dd>0</dd>
		<dt>尝试人数</dt>
	    <dd>0</dd>
	    <dt>通过人数</dt>
	    <dd>0</dd>
	</dl>
		
		
					
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ 沪ICP备12005590号-3</li>
		</ul>
		<ul class="debug-info">
									<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">帮助</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">关于</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
