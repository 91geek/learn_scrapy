<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>OpenJudge - C15I:The New MindSwitcher</title>

<link href="http://static.openjudge.cn/styles/global.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/styles.css?1470100812.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/group.css?1468143560.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/contest.css?1467854438.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://static.openjudge.cn/styles/favicon.ico?1467854438.ico" rel="shortcut icon" type="image/x-icon" />
<!--[if IE]>
   <script type="text/javascript" src="http://static.openjudge.cn/scripts/html5.js?1467854438.js"></script>
<![endif]-->
<!--[if lt IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie6-deprecated.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 7]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie7.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<!--[if IE 8]>
	<link type="text/css" href="http://static.openjudge.cn/styles/ie8.css?1467854438.css" rel="stylesheet" />
<![endif]-->
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery-1.4.3.min.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/jquery.form.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/base-nc.js?1467854438.js"></script>
<script type="text/javascript" src="http://static.openjudge.cn/scripts/api.js?1467854438.js"></script>
<script type="text/javascript">
    //<![CDATA[
var web_root = '/',
	static_root = 'http://static.openjudge.cn/',
	script_root = 'http://static.openjudge.cn/scripts',
	style_root = 'http://static.openjudge.cn/styles';
    //]]>
</script></head>
<body>
	<div id="headerTop">
  <div class="wrapper">
    <h1 class="logo"><a href="http://openjudge.cn/" title="首页" rel="home">OpenJudge</a></h1>
    <ul id="userToolbar">
            <li><a class="link" href="/auth/login/">登入</a></li>
      <li><a class="link" href="/register/">注册</a></li>
          </ul>
    <div class="practice-search">
		 <form class="search-form" action="/search/" method="get">
	        <input name="q" type="text" value="题目ID, 标题, 描述" onclick="this.select()">
	        <button type="submit"></button>
	     </form>	
	</div>
    <div style="clear:both;"></div>
  </div>
</div>
	
	<div id="header">
  <div class="wrapper">
  	<div id="groupSmallLog">
  		<a href="http://poj.openjudge.cn/"><img class="group-logo" src="http://media.openjudge.cn/groups/2/logo_small.jpg" alt="PKU Online Judge" width="50" height="50" /></a>    </div>
	<div class="contest-title-tab">
		 <h2><a href="http://poj.openjudge.cn/" title="首页" rel="home">PKU Online Judge</a></h2>
		 <span>/</span>
		 <h2>练习</h2>
			</div>
    <ul id="mainNav">
        <li  class="current"><a href="/practice/" class="first">题目</a></li>
            <li ><a href="/practice/ranking/">排名</a></li>
                    <li ><a href="/practice/status/">状态</a></li>
	    			        <li class="last"><a href="/practice/clarify/" class="last">提问</a></li>
        </ul>	 
    <div style="clear:both;"></div>
  </div>
</div>	
	<div id="pagebody">
		<div class="wrapper">
			<script type="text/javascript">
$(function(e){
  var b={1:"很水",2:"简单",3:"普通",4:"较难",5:"变态"},
      g=$("#rate"),
      c=$("#stars img"),
      d=function(f){
        var h=0||g.val();
        c.each(function(k){
          var i=this.src.replace(/\w*\.gif$/,((k<f)?"sth":((k<h)?"st":"nst"))+".gif");
          this.src=i;
        });
        if(f)
          $("#rate_description").text(b[f]);
        else
          $("#rate_description").text(h!=0?b[h]:"");
      };
      c.hover(function(){d(this.id.charAt(4));},function(){d();});
      if(g.attr("value")){
        c.click(function(){
          var f=this.id.charAt(4);
          g.val(f);
          d(f);
          //$('#form_diffculity_rating').submit();
          $( "#dialog-form" ).dialog( "open" );
			g();
        });
      }
      d();
  });
$(document).ready(
		function(){
			$('#problem-tags').hide();
			$('#tag-display').toggle(function() {
											$('#problem-tags').show();
											this.value = '隐藏标签';
										}, function(){
											$('#problem-tags').hide();
											this.value = '显示标签';
										}
									);
			});
</script>

<div id="pageTitle"><h2>C15I:The New MindSwitcher</h2></div>
<div id="topMenu">
	<ul>
		<li class="current-show"><a href="/practice/C15I/">查看</a></li>
		<li ><a href="/practice/C15I/submit/">提交</a></li>
				<li ><a href="/practice/C15I/statistics/">统计</a></li>
			
		<li ><a href="/practice/clarify/C15I/">提问</a></li>
			
	</ul>
</div><div class="problem-page col-9">
	<dl class="problem-params">
		<dt>总时间限制: </dt>
		<dd>1000ms</dd>
			<dt>内存限制: </dt>
		<dd>65536kB</dd>
	</dl>
	<dl class="problem-content">
		<dt>描述</dt>
		<dd><p>Professor Farnsworth and Amy Wong create The New MindSwitcher! A The New MindSwitcher allows two users to switch minds with each other without any limits. There are N people have already tried it, and each of them may have other&#39;s mind now. Obviously, it is a great invention, but it also leads to trouble. People who do evil can use it to escape from punishment, or even set others up. When this realization hit, Professor Farnsworth decides to return every mind back to its original body.</p><p>There are a lot of The New MindSwitchers, which means in each turn, any number of pairs of people can switch minds. However, no one can switch minds with himself/herself or with more than one people at the same time. To avoid getting into bigger trouble, it is forbidden to introduce new people who did not have used The New MindSwitcher. And most importantly, to finish this work as soon as possible, Professor Farnsworth wants to arrange this process to minimize the number of turns.
</p></dd>
				
				
				<dt>输入</dt>
		<dd>The first line contains an integer N. 2 ≤ N ≤ 1000.<br /><br />Then follows N lines, each line contains two strings: B, M, separated by a single space, describe that the person B’s body has the person M’s mind at this time. Both B and M only contain alphabetic characters. 1 ≤ |B|, |M| ≤ 15. Note that different people have different names.</dd>
		<dt>输出</dt>
		<dd>The first line contains an integer T -- the minimum possible number of turns in order to return every mind back to its original body.<br /><br />Then follows T turns. For each turn:<br />The first line contains an integer S, describes the number of The New MindSwitchers needed in this turn. Then follows S lines, each line contains two strings: B1, B2, describe that one of The New Mindswitchers is serving for body of B1 and body of B2 to switch their minds.<br /><br />You should also make sure that nobody is appeared multiple times in one turn, and there is no additional person. If there are several solutions, output any one of them.</dd>
		<dt>样例输入</dt>
		<dd><pre>5
Farnsworth Amy
Amy Bender
Bender Farnsworth
Zoidberg Fry
Fry Zoidberg
</pre></dd>
		<dt>样例输出</dt>
		<dd><pre>2
1
Farnsworth Amy
2
Farnsworth Bender
Fry Zoidberg
</pre></dd>
						</dl>
	<ul class="bottomMenu">
		<li class="current-show"><a href="/practice/C15I/">查看</a></li>
		<li ><a href="/practice/C15I/submit/">提交</a></li>
				<li ><a href="/practice/C15I/statistics/">统计</a></li>
			
		<li ><a href="/practice/clarify/C15I/">提问</a></li>
			</ul>
</div>

<div class="problem-statistics col-3">
       		<dl>
		<dt>全局题号</dt>
		<dd>8252</dd>
					<dt>添加于</dt>
			<dd>2015-05-10</dd>
				<dt>提交次数</dt>
		<dd>271</dd>
		<dt>尝试人数</dt>
	    <dd>67</dd>
	    <dt>通过人数</dt>
	    <dd>37</dd>
	</dl>
		
		
					
	</div>
		</div>
	</div>
	<div id="footer">
	<div class="wrapper">
		<ul class="oj-info">
			<li>&copy;2002-2013 POJ 沪ICP备12005590号-3</li>
		</ul>
		<ul class="debug-info">
									<li><a href="http://poj.openjudge.cn//history.html" rel="nofollow">历届出题人名单</a></li>
						<li>
				<a style="color:red" href="javascript:void(0);" onclick="api.switchLanguage('en_US');">English</a></li>
						<li><a href="http://openjudge.cn/help.html" rel="nofollow">帮助</a></li>
			<li><a href="http://openjudge.cn/about.html" rel="nofollow">关于</a></li>
		</ul>
		<div style="clear:both;"></div>
	</div>
</div>

	
	</body>
</html>
