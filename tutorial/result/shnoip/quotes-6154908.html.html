
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="referrer" content="origin" />
<title>文件 - noipxu - 博客园</title>
<meta property="og:description" content="一、文件的定义文件是作为Pascal程序与磁盘信息进行数据交换的一种数据类型。引入文件的目的主要有二点：1、永久性：以文件形式储存起来的数据永久的保留在磁盘中。文件与操作它的程序相互独立，同一文件可供" />
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=-duj5vpGTntb85GJoM3iRI972XwWcI-j8zmqDzyfu2w1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/HabaHaba/bundle-HabaHaba.css?v=UPtVEp5c5COz7ailJedUlYBaufBzZ-ATkRtra5Su1jc1"/>
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/HabaHaba/bundle-HabaHaba-mobile.css?v=d9LctKHRIQp9rreugMcQ1-UJuq_j1fo0GZXTXj8Bqrk1"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/shnoip/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/shnoip/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/shnoip/wlwmanifest.xml"/>
<script src="//common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
<script type="text/javascript">var currentBlogApp = 'shnoip', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="/bundles/blog-common.js?v=oVrWjmbP-rXxVp7O71kev8vWEZCetdwYaIziKHJCYc41" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<table width="100%" class="Framework" cellspacing="0" cellpadding="0">
	<tr>
		<td colspan="2">
			
<div id="top">
<table width="100%" cellpadding="8" cellspacing="0">
	<tr>
		<td nowrap>
			<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/shnoip/">NOIP程序设计</a></h1>
			积跬步,至千里……
		</td>
	</tr>
</table>
</div>
<div id="sub"></div>


</td>
	</tr>
	<tr>
		<td class="LeftCell">
			<div id="leftmenu">
                
                    
<h3>导航</h3>
<ul>
	<li>
		
	<li>
		
	<li>
		
	<li>
		
	<li>
		
	<li>
		<a id="blog_nav_admin" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>

                    
                    <div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
                    <div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
                	        
			</div>
		</td>
		<td class="MainCell" width="100%">
			<div id="main">
				
<div id="post_detail">
	<div class="post">
		<div class="posthead">
			<h2>
				<a id="cb_post_title_url" class="singleposttitle" href="https://www.cnblogs.com/shnoip/p/6154908.html">文件</a>
			</h2>
 			Posted on <span id="post-date">2016-12-10 09:39</span> <a href='https://www.cnblogs.com/shnoip/'>noipxu</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="https://i.cnblogs.com/EditPosts.aspx?postid=6154908" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(6154908);return false;">收藏</a>
			<script type="text/javascript">var allowComments=true,cb_blogId=319781,cb_entryId=6154908,cb_blogApp=currentBlogApp,cb_blogUserGuid='62f2a97c-b1b6-e611-845c-ac853d9f53ac',cb_entryCreatedDate='2016/12/10 9:39:00';loadViewCount(cb_entryId);var cb_postType=1;</script>
			
		</div>
		<div class="postbody"><div id="cnblogs_post_body" class="blogpost-body"><p><span style="font-size: 16px">一、文件的定义</span><br><br><span style="font-size: 16px">文件是作为Pascal程序与磁盘信息进行数据交换的一种数据类型。引入文件的目的主要有二点：</span><br><span style="font-size: 16px">1、永久性：以文件形式储存起来的数据永久的保留在磁盘中。文件与操作它的程序相互独立，同一文件可供多个程序调用。</span><br><span style="font-size: 16px">2、容量大：以前学习的数组、记录等数据类型在定义时受内存大小的限制，但作为存贮文件的外存（U盘或硬盘）从原理上讲是不受限制的。</span><br><br><span style="font-size: 16px">在Pascal的数据文件中，数据可以按两种内部代码形式来存放：</span><br><span style="font-size: 16px">1、按ASCII代码形式（即字符形式）存放时，这类文件称为文本文件（或正文文件），其定义形式为：</span><br><span style="font-size: 16px">type 类型名=text;</span><br><span style="font-size: 16px">例如：</span><br><span style="font-size: 16px">type textf=text;</span><br><span style="font-size: 16px">var txt:textf;</span><br><span style="font-size: 16px">或直接写成：</span><br><span style="font-size: 16px">var txt:text;</span><br><br><span style="font-size: 16px">该定义说明了textf为名的变量对应的文件用于存放文本数据。</span><br><br><span style="font-size: 16px">2、按数据的二进制代码形式存放时，这类文件称为类型文件（又称随机文件）。随机文件不具有行结构，整个文件如同一个二维数表，可由用户随机存取数据。如果再按组成类型的元素的数据结构分，又分为有类型文件和无类型文件，其定义为形式为：</span><br><span style="font-size: 16px">type 类型名=file of 基类型; {有类型文件}</span><br><span style="font-size: 16px">&nbsp;&nbsp;&nbsp;&nbsp; 类型名=file;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {无类型文件}</span><br><span style="font-size: 16px">例如：</span><br><span style="font-size: 16px">type intf=file of integer;</span><br><span style="font-size: 16px">var its:intf;</span><br><span style="font-size: 16px">或直接写成：</span><br><span style="font-size: 16px">var itf:file of integer;</span><br><br><span style="font-size: 16px">该定义说明了itf为名的变量对应的文件将用于存放整数。</span><br><br><span style="font-size: 16px">又例如：</span><br><span style="font-size: 16px">var g:file;</span><br><span style="font-size: 16px">该定义说明了g为名的变量对应的文件的数据无任何规定。</span><br><br><span style="font-size: 16px">由于目前信息学奥林匹克竞赛中评测的输入输出数据都用文本文件的格式表示，因此我们把文件的重点放在文本文件的使用上。</span><br><br><span style="font-size: 16px">二、文本文件</span><br><br><span style="font-size: 16px">文本文件的内容由ASCII字符集中的字符组成，因此文本文件也称ASCII码文件，它可以用DOS中的type命令列出文件的内容。文本文件具体内容由一系列行组成，每一行可以包括0个或多个字符，并以一个行结束符结尾，文本文件类型text与基类型是字符的有类型文件file of char的区别在于后者不包含行结束符（因为行结束符不能赋给char类型变量）。</span><br><br><span style="font-size: 16px">正文文件可以存放不同数据类型的值，在信息学奥林匹克竞赛的题目中用得较多的是数值和字符串，不管是哪一种数据类型，在文本文件中是按同样的文本格式表示的，在文本文件内容读出时，该值的内容是由读取它的变量的类型所确定的。比如，一个文本文件中表示'8'的值可以分别赋予整型、实型或字符型变量，用read或write读写正文文件时，Pascal系统会自动按类型进行转换。</span><br><br><span style="font-size: 16px">文本文件与有类型文件在读写上的差别在于前者只能按次序顺序读写，而后者可不按次序读写，因此文本文件是一种顺序文件。</span><br><br><span style="font-size: 16px">用于文本文件操作的过程和函数：</span><br><span style="font-size: 16px">1、assign过程</span><br><span style="font-size: 16px">形式：assign(f,str);</span><br><span style="font-size: 16px">功能：将文件名字符串str（变量或常量形式）赋给文件变量f，程序对文件变量f的操作就代替了对str表示的文件的操作。</span><br><br><span style="font-size: 16px">2、rewrite过程</span><br><span style="font-size: 16px">形式：rewrite(f);</span><br><span style="font-size: 16px">功能：建立并打开一个新的允许写磁盘文件，其文件名必须先由assign过程赋给变量f。这时，指向文件元素的指针指向0号元素（第一个元素），rewrite过程所建立的文件为空文件。</span><br><br><span style="font-size: 16px">3、reset过程</span><br><span style="font-size: 16px">形式：reset(f);</span><br><span style="font-size: 16px">功能：打开一个已存在的磁盘文件，其文件名必须由assign过程赋给文件变量f，该文件只允许读，文件指针指向0号元素。</span><br><br><span style="font-size: 16px">4、read过程</span><br><span style="font-size: 16px">形式：read(f,变量表);</span><br><span style="font-size: 16px">功能：从磁盘文件f中，将数据依次读入到变量表表示的各个变量中。</span><br><br><span style="font-size: 16px">5、write过程</span><br><span style="font-size: 16px">形式：write(f,变量表);</span><br><span style="font-size: 16px">功能：将变量表所表示的各个变量的值依次写到磁盘文件f上。</span><br><br><span style="font-size: 16px">6、close过程</span><br><span style="font-size: 16px">形式：close(f);</span><br><span style="font-size: 16px">功能：关闭与f相关的磁盘文件，自动产生一个文件结束标志（仅在写操作时）。</span><br><br><span style="font-size: 16px">7、eof函数</span><br><span style="font-size: 16px">形式：eof(f)</span><br><span style="font-size: 16px">功能：若文件指针指向文件尾（超过最后一个元素），则返回真值（true），否则返回假值（false）。</span></p>
<p><br><span style="font-size: 16px">8、readln过程</span><br><span style="font-size: 16px">形式：readln(f,变量表);或readln(f);</span><br><span style="font-size: 16px">功能：从磁盘文件f中，将数据依次读至变量表的各变量中（其中readln(f)只读数据），并将文件指针移至行结束符后，即下一行的开头。</span><br><span style="font-size: 16px">有以下等价关系：</span><br><span style="font-size: 16px">readln(f,变量表);等价于read(f,变量表);readln(f);</span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<p><span style="font-size: 16px">9、writeln过程</span><br><span style="font-size: 16px">形式：writeln(f,变量表);或writeln(f);</span><br><span style="font-size: 16px">功能：将变量表所表示的各个变量的值依次写到磁盘文件f上去（其中writeln(f)不写值），然后再写一个行结束符。</span><br><span style="font-size: 16px">有以下等价关系：</span><br><span style="font-size: 16px">writeln(f,变量表);等价于write(f,变量表);writeln(f);</span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<p><span style="font-size: 16px">10、append过程</span><br><span style="font-size: 16px">形式：append(f);</span><br><span style="font-size: 16px">功能：打开一个已存在的磁盘文件，其文件名必须与assign过程中的变量名f相对应，该文件只允许写，此时的文件指针指向文件尾。</span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<p><span style="font-size: 16px">11、eoln函数和seekeoln函数</span><br><span style="font-size: 16px">形式：eoln(f)和seekeoln(f);</span><br><span style="font-size: 16px">功能：若文件指针指向行结束符或文件结束符，则返回真值(true)，否则返回假值(false)。eoln(f)和seekeoln(f)区别在于后者返回状态时，跳过空格和制表符，主要用于读取数字值。</span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<p><span style="font-size: 16px">12、seekeof函数</span><br><span style="font-size: 16px">形式：seekeof(f);</span><br><span style="font-size: 16px">功能：若文件指针指向文件结束符，则返回直值(true)，否则返回假值(false)。seekeof(f)返回状态时，跳过空格、制表符和行结束符，主要用于读取数字值。</span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<p><span style="font-size: 16px">三、NOIP复赛文件操作参考代码</span><br><span style="font-size: 16px">begin</span><br><span style="font-size: 16px">&nbsp; assign(input,'读入文件名');</span><br><span style="font-size: 16px">&nbsp; reset(input);</span><br><span style="font-size: 16px">&nbsp; assign(output,'输出文件名');</span><br><span style="font-size: 16px">&nbsp; rewrite(output);</span></p>
<p><span style="font-size: 16px">&nbsp; 解题代码……</span></p>
<p><span style="font-size: 16px">&nbsp; close(input);</span><br><span style="font-size: 16px">&nbsp; close(output);</span><br><span style="font-size: 16px">end.</span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<p><span style="font-size: 16px">例1：随机生成30个随机整数存放到文本文件ran.txt中。</span><br><span style="font-size: 16px">var</span><br><span style="font-size: 16px">&nbsp; ra:text;</span><br><span style="font-size: 16px">&nbsp; i:integer;</span><br><span style="font-size: 16px">begin</span><br><span style="font-size: 16px">&nbsp; randomize;</span><br><span style="font-size: 16px">&nbsp; assign(ra,'ran.txt');</span><br><span style="font-size: 16px">&nbsp; rewrite(ra);</span><br><span style="font-size: 16px">&nbsp; for i:=1 to 30 do writeln(ra,random(100));</span><br><span style="font-size: 16px">&nbsp; close(ra);</span><br><span style="font-size: 16px">end.</span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<p><span style="font-size: 16px">例2：将例1生成的ran.txt文件中的数据读出进行排序，然后把排好序的数据存放到文本文件snum.txt中。</span><br><span style="font-size: 16px">var</span><br><span style="font-size: 16px">&nbsp; f,g:text;</span><br><span style="font-size: 16px">&nbsp; t,i,j:integer;</span><br><span style="font-size: 16px">&nbsp; a:array[1..30] of byte;</span><br><span style="font-size: 16px">begin</span><br><span style="font-size: 16px">&nbsp; assign(f,'ran.txt');</span><br><span style="font-size: 16px">&nbsp; reset(f);</span><br><span style="font-size: 16px">&nbsp; i:=1;</span><br><span style="font-size: 16px">&nbsp; while not eof(f) do begin</span><br><span style="font-size: 16px">&nbsp;&nbsp;&nbsp; readln(f,a[i]);</span><br><span style="font-size: 16px">&nbsp;&nbsp;&nbsp; i:=i+1;</span><br><span style="font-size: 16px">&nbsp; end;</span><br><span style="font-size: 16px">&nbsp; close(f);</span><br><span style="font-size: 16px">&nbsp; for i:=1 to 29 do</span><br><span style="font-size: 16px">&nbsp;&nbsp;&nbsp; for j:=i+1 to 30 do</span><br><span style="font-size: 16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if a[i]&lt;a[j] then begin</span><br><span style="font-size: 16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t:=a[i];a[i]:=a[j];a[j]:=t;</span><br><span style="font-size: 16px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;&nbsp;</span><br><span style="font-size: 16px">&nbsp; assign(g,'snum.txt');</span><br><span style="font-size: 16px">&nbsp; rewrite(g);</span><br><span style="font-size: 16px">&nbsp; for i:=1 to 30 do writeln(a[i]);</span><br><span style="font-size: 16px">&nbsp; colse(g);</span><br><span style="font-size: 16px">end.</span></p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>

</div>
	</div></div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id='comment_form' class='commentform'>
<a name='commentform'></a>
<div id='divCommentShow'></div>
<div id='comment_nav'><span id='span_refresh_tips'></span><a href='javascript:void(0);' onclick='return RefreshCommentList();' id='lnk_RefreshComments' runat='server' clientidmode='Static'>刷新评论</a><a href='#' onclick='return RefreshPage();'>刷新页面</a><a href='#top'>返回顶部</a></div>
<div id='comment_form_container'></div>
<div class='ad_text_commentbox' id='ad_text_under_commentbox'></div>
<div id='ad_t2'></div>
<div id='opt_under_post'></div>
<div id='cnblogs_c1' class='c_ad_block'></div>
<div id='under_post_news'></div>
<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>

<script>
  googletag.cmd.push(function() {
    googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>
<div id='cnblogs_c2' class='c_ad_block'>
    <div id='div-gpt-ad-1539008685004-0' style='height:60px; width:468px;'>
    <script>
    if (new Date() >= new Date(2018, 9, 13)) {
        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1539008685004-0'); });
    }
    </script>
    </div>
</div>
<div id='under_post_kb'></div>
<div id='HistoryToday' class='c_ad_block'></div>
<script type='text/javascript'>
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


			</div>
		</td>
	</tr>
	<tr>
		<td colspan="2" class="FooterCell">
			
<p id="footer">
	Powered by: 
	<br />
	
	<a id="Footer1_Hyperlink3" NAME="Hyperlink1" href="https://www.cnblogs.com/"><font face="Verdana">博客园</font></a>
	<br />
	Copyright &copy; noipxu
</p>
		</td>
	</tr>
</table>


</body>
</html>
